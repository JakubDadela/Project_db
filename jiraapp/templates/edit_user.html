{% extends "base.html" %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <title>Jira-custom</title>
  <style>
    /* Custom styles go here */
  </style>
{% endblock head %}

{% block body %}
  <div class="container">
    <h1>Edit User</h1>

    <form method="POST" action="">
      {% csrf_token %}
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" required>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" id="password" name="password" value="{{ user.password }}" required>
      </div>
      <div class="form-group">
        <label for="role">Role</label>
        <input type="text" class="form-control" id="role" name="role" value="{{ user.role }}" required>
      </div>
      <div class="form-group">
        <label for="assigned_projects">Assigned Projects</label>
        <select multiple class="form-control" id="assigned_projects" name="assigned_projects">
          {% for project in projects %}
            <option value="{{ project.id }}" {% if project.id in user.assigned_projects %}selected{% endif %}>{{ project.name }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Update</button><br>
      <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-secondary mb-3 mt-2">Back</a> <!-- Back button -->
    </form>
  </div>
{% endblock body %}

{% block scripts %}
  <script>
    // Custom scripts go here
  </script>
{% endblock scripts %}
